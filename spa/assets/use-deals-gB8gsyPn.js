import{u as r}from"./useQuery-DyOj3TZg.js";import{f as u,u as o,b as a,g as c,R as i}from"./index-BW2Snbvp.js";import{u as n}from"./useMutation-UnYB113s.js";import{c as l,f as p}from"./dealsApi-CWxYew0x.js";const y=e=>r({queryKey:["deals",e.role??"all",e.pendingPage??1,e.activePage??1,e.completedPage??1],queryFn:()=>p(e),staleTime:2e4,refetchOnWindowFocus:!1}),b=()=>{const e=u(),s=o();return n({mutationFn:t=>l(t),onSuccess:()=>{a.success("Deal created"),c()?.HapticFeedback?.notificationOccurred?.("success"),e.invalidateQueries({queryKey:["deals"]}),s(i.DEALS,{state:{activeTab:"pending"},replace:!0})},onError:t=>{a.error(t.message)}})};export{y as a,b as u};
