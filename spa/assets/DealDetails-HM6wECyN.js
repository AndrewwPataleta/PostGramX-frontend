import{c as L,j as s,f as Z,e as g,d as c,u as ee,r as v,h as te,i as se,k as re}from"./index-BmMC9-4R.js";import{m as n}from"./mockChannels-BOQTRySQ.js";import{b as ae,a as ne}from"./payment-BuGK4VCJ.js";import{u as ie}from"./useQuery--kIPnlyD.js";import{u as w}from"./useMutation-CeyoxhXq.js";import{g as u,E as oe}from"./errors-C_RbUixx.js";import{L as ce}from"./LoadingSkeleton-B-jCC047.js";import"./skeleton-BVFdzAIM.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],O=L("copy",le);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ue=L("link",de),me={primary:"bg-primary/20 text-primary",warning:"bg-yellow-500/20 text-yellow-300",info:"bg-sky-500/15 text-sky-200",success:"bg-emerald-500/20 text-emerald-300",neutral:"bg-muted text-muted-foreground",danger:"bg-rose-500/20 text-rose-300"};function pe({label:t,tone:e,className:r}){return s.jsx("span",{className:Z("inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",me[e],r),children:t})}function fe({status:t,tone:e,title:r,username:o,verified:d,price:h,dealId:D,avatarUrl:f,statusDescription:a}){return s.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-secondary/60 text-xl",children:f?f.startsWith("http")?s.jsx("img",{src:f,alt:r,className:"h-full w-full rounded-full object-cover"}):f:r.slice(0,1)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[s.jsx("span",{children:r}),d?s.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-primary/20 text-[10px] text-primary",children:"âœ“"}):null]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",o]})]}),s.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-semibold text-foreground",children:h}),s.jsx("p",{children:D})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx(pe,{label:t,tone:e}),s.jsx("p",{className:"text-xs text-muted-foreground",children:a})]})]})}function A({title:t,children:e}){return s.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("p",{className:"text-sm font-semibold text-foreground",children:t})}),s.jsx("div",{className:"mt-3 space-y-2 text-xs text-muted-foreground",children:e})]})}function xe({items:t}){return s.jsxs("div",{className:"rounded-2xl border border-border/50 bg-card/80 p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Timeline"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.length," steps"]})]}),s.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2 sm:grid-cols-3 lg:grid-cols-1",children:t.map(e=>s.jsxs("div",{className:`flex items-center gap-2 rounded-xl border px-2.5 py-2 text-xs ${e.state==="completed"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-100":e.state==="current"?"border-primary/50 bg-primary/10 text-primary-foreground":"border-border/60 bg-background/40 text-muted-foreground"}`,children:[s.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full text-[10px] font-semibold ${e.state==="completed"?"bg-emerald-500/80 text-emerald-950":e.state==="current"?"bg-primary/80 text-primary-foreground":"border border-border/70 text-muted-foreground"}`,children:e.state==="completed"?"âœ“":e.state==="current"?"â€¢":""}),s.jsx("p",{className:"text-xs font-medium",children:e.label})]},e.label))})]})}const N="flowgramx.mockDeals",S=Date.now(),i=t=>new Date(S-t*6e4).toISOString(),k=t=>new Date(S+t*6e4).toISOString(),ge=t=>new Date(S+t*36e5).toISOString(),E=[{id:"DL-2001",status:"OWNER_ACCEPTED",updatedAt:i(8),priceTon:4.2,briefText:"Launch teaser for FlowgramX with CTA to beta waitlist.",channel:{id:n[0].id,title:n[0].title,username:n[0].username,avatarUrl:n[0].avatarUrl,isVerified:n[0].verified,subscribers:n[0].subscribers,averageViews:n[0].averageViews,language:n[0].language,priceTon:n[0].priceTon},escrow:{status:"AWAITING_PAYMENT",amountTon:4.2,network:"TON",depositAddress:"EQC2MockDepositAddress1111",memo:"FGX-2001",updatedAt:i(8)}},{id:"DL-2002",status:"CREATIVE_SUBMITTED",updatedAt:i(18),priceTon:3.5,briefText:"Promote new campaign dashboard with a short CTA to try demo.",channel:{id:n[1].id,title:n[1].title,username:n[1].username,avatarUrl:n[1].avatarUrl,isVerified:n[1].verified,subscribers:n[1].subscribers,averageViews:n[1].averageViews,language:n[1].language,priceTon:n[1].priceTon},escrow:{status:"FUNDS_LOCKED",amountTon:3.5,network:"TON",updatedAt:i(20)},creative:{text:"ðŸš€ FlowgramX just launched a smarter way to buy Telegram placements. Try the demo today.",submittedAt:i(18),approvedAt:null}},{id:"DL-2003",status:"SCHEDULED",updatedAt:i(40),priceTon:2.6,briefText:"Drive signups for creator waitlist with emphasis on verified channels.",channel:{id:n[2].id,title:n[2].title,username:n[2].username,avatarUrl:n[2].avatarUrl,isVerified:n[2].verified,subscribers:n[2].subscribers,averageViews:n[2].averageViews,language:n[2].language,priceTon:n[2].priceTon},escrow:{status:"FUNDS_LOCKED",amountTon:2.6,network:"TON",updatedAt:i(40)},creative:{text:"FlowgramX connects advertisers with top Telegram channels. Join the waitlist today.",submittedAt:i(60),approvedAt:i(48)},schedule:{scheduledAt:ge(2),timezone:"UTC"}},{id:"DL-2004",status:"POSTED",updatedAt:i(6),priceTon:5.1,briefText:"Highlight escrow safety and bot-assisted messaging for advertisers.",channel:{id:n[3].id,title:n[3].title,username:n[3].username,avatarUrl:n[3].avatarUrl,isVerified:n[3].verified,subscribers:n[3].subscribers,averageViews:n[3].averageViews,language:n[3].language,priceTon:n[3].priceTon},escrow:{status:"FUNDS_LOCKED",amountTon:5.1,network:"TON",updatedAt:i(8)},creative:{text:"FlowgramX keeps your TON safe in escrow until the post is verified. Learn more today.",submittedAt:i(35),approvedAt:i(30)},schedule:{scheduledAt:i(15),timezone:"UTC"},post:{messageId:"99421",viewUrl:"https://t.me/signalstream/99421",verifyUntil:k(22),postedAt:i(12)}},{id:"DL-2005",status:"RELEASED",updatedAt:i(55),priceTon:3.1,briefText:"Showcase creative review and scheduling in the mini app.",channel:{id:n[4].id,title:n[4].title,username:n[4].username,avatarUrl:n[4].avatarUrl,isVerified:n[4].verified,subscribers:n[4].subscribers,averageViews:n[4].averageViews,language:n[4].language,priceTon:n[4].priceTon},escrow:{status:"RELEASED",amountTon:3.1,network:"TON",updatedAt:i(55)},creative:{text:"Our first FlowgramX campaign is live â€” thanks to the community!",submittedAt:i(120),approvedAt:i(110)},schedule:{scheduledAt:i(90),timezone:"UTC"},post:{messageId:"99400",viewUrl:"https://t.me/web3horizon/99400",verifyUntil:i(10),postedAt:i(80)}},{id:"DL-2006",status:"REFUNDED",updatedAt:i(90),priceTon:3.8,briefText:"Russian audience campaign for product launch update.",channel:{id:n[5].id,title:n[5].title,username:n[5].username,avatarUrl:n[5].avatarUrl,isVerified:n[5].verified,subscribers:n[5].subscribers,averageViews:n[5].averageViews,language:n[5].language,priceTon:n[5].priceTon},escrow:{status:"REFUNDED",amountTon:3.8,network:"TON",updatedAt:i(90)}}],_=()=>typeof window<"u"&&!!window.localStorage,q=()=>{if(!_())return[...E];const t=window.localStorage.getItem(N);if(!t)return window.localStorage.setItem(N,JSON.stringify(E)),[...E];try{const e=JSON.parse(t);if(Array.isArray(e)&&e.length>0)return e}catch(e){console.warn("Failed to parse mock deals",e)}return window.localStorage.setItem(N,JSON.stringify(E)),[...E]},we=t=>{_()&&window.localStorage.setItem(N,JSON.stringify(t))},ye=t=>q().find(e=>e.id===t)??null,y=(t,e)=>{const r=q(),o=r.findIndex(h=>h.id===t);if(o===-1)return null;const d=e({...r[o]});return r[o]=d,we(r),d},he=t=>y(t,e=>{const r=new Date().toISOString(),o=!!e.schedule?.scheduledAt;return{...e,status:o?"SCHEDULED":"CREATIVE_APPROVED",updatedAt:r,creative:{...e.creative,approvedAt:r}}}),be=(t,e)=>y(t,r=>{const o=new Date().toISOString();return{...r,status:"CREATIVE_DRAFTING",updatedAt:o,creative:{...r.creative,text:e?`${r.creative?.text??""}

Edits: ${e}`.trim():r.creative?.text,submittedAt:null,approvedAt:null,lastUpdatedAt:o}}}),Ee=t=>y(t,e=>{const r=new Date().toISOString();return e.escrow?.status==="AWAITING_PAYMENT"?{...e,status:"PAYMENT_CONFIRMING",updatedAt:r,escrow:{...e.escrow,status:"PAYMENT_CONFIRMING",updatedAt:r}}:e.escrow?.status==="PAYMENT_CONFIRMING"?{...e,status:"FUNDS_LOCKED",updatedAt:r,escrow:{...e.escrow,status:"FUNDS_LOCKED",updatedAt:r},creative:e.creative??{text:"",submittedAt:null,approvedAt:null}}:{...e,updatedAt:r}}),ve=t=>y(t,e=>{const r=new Date().toISOString();return{...e,status:"POSTED",updatedAt:r,post:{messageId:"10101",viewUrl:`https://t.me/${e.channel.username}/10101`,verifyUntil:k(25),postedAt:r}}}),Ae=t=>y(t,e=>{const r=new Date().toISOString();return{...e,status:"RELEASED",updatedAt:r,escrow:e.escrow?{...e.escrow,status:"RELEASED",updatedAt:r}:void 0}}),Ne=t=>y(t,e=>{const r=new Date().toISOString();return{...e,status:"REFUNDED",updatedAt:r,escrow:e.escrow?{...e.escrow,status:"REFUNDED",updatedAt:r}:void 0}}),De=!0,p=async(t=300,e=600)=>{const r=Math.floor(Math.random()*(e-t+1))+t;await new Promise(o=>setTimeout(o,r))};console.info("MOCK MODE ENABLED for Deals");const Te=async t=>{{await p();const e=ye(t);if(!e)throw new Error("Deal not found");return e}},Se=async t=>{{await p();const e=he(t);if(!e)throw new Error("Deal not found");return e}},je=async(t,e)=>{{await p();const r=be(t,e);if(!r)throw new Error("Deal not found");return r}},Ce=async t=>{await p();const e=Ee(t);if(!e)throw new Error("Deal not found");return e},Ie=async t=>{await p();const e=ve(t);if(!e)throw new Error("Deal not found");return e},Re=async t=>{await p();const e=Ae(t);if(!e)throw new Error("Deal not found");return e},Pe=async t=>{await p();const e=Ne(t);if(!e)throw new Error("Deal not found");return e},Ve=t=>{const e=Date.now()-new Date(t).getTime(),r=Math.max(1,Math.round(e/6e4));if(r<60)return`Updated ${r}m ago`;const o=Math.round(r/60);return o<24?`Updated ${o}h ago`:`Updated ${Math.round(o/24)}d ago`},Ue=t=>{if(!t)return"Waiting for scheduling";const e=new Date(t);return`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})} Â· ${e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}`},Me=t=>{if(!t)return null;const e=new Date(t).getTime()-Date.now();return`${Math.max(0,Math.round(e/6e4))}m`},Fe={REQUESTED:{label:"Request sent",description:"Your request is with the channel owner. We'll notify you via bot once accepted.",ctaLabel:"View request",listAction:"View",category:"pending",tone:"neutral"},PAYMENT_REQUIRED:{label:"Payment required",description:"Escrow keeps funds safe until the post is verified.",ctaLabel:"Pay escrow",listAction:"Pay Now",category:"pending",tone:"warning"},PAYMENT_CONFIRMING:{label:"Payment confirming",description:"We're confirming your TON transfer. This usually takes a minute.",ctaLabel:"View payment",listAction:"View",category:"pending",tone:"info"},FUNDS_LOCKED:{label:"Funds locked",description:"Funds are secured in escrow while the channel drafts your creative.",ctaLabel:"Message via bot",listAction:"View",category:"active",tone:"info"},CREATIVE_DRAFTING:{label:"Creative drafting",description:"The channel owner is preparing the creative draft for your review.",ctaLabel:"Message via bot",listAction:"View",category:"active",tone:"info"},CREATIVE_REVIEW:{label:"Creative review",description:"Review the draft and approve to schedule delivery.",ctaLabel:"Review creative",listAction:"Review",category:"active",tone:"primary"},CREATIVE_APPROVED:{label:"Creative approved",description:"Creative approved. Waiting for channel to schedule the post.",ctaLabel:"View status",listAction:"View",category:"active",tone:"info"},SCHEDULED:{label:"Scheduled",description:"The post is scheduled and queued for delivery.",ctaLabel:"View schedule",listAction:"View",category:"active",tone:"info"},VERIFYING:{label:"Posted Â· verifying",description:"Post is live. Verification checks will release escrow automatically.",ctaLabel:"View post",listAction:"View Post",category:"active",tone:"primary"},RELEASED:{label:"Released",description:"Post verified. Escrow released to the channel owner.",ctaLabel:"View receipt",listAction:"Receipt",category:"completed",tone:"success"},REFUNDED:{label:"Refunded",description:"Verification failed or the deal was cancelled. Funds returned.",ctaLabel:"View receipt",listAction:"Receipt",category:"completed",tone:"danger"}},G=t=>t.status==="REFUNDED"||t.escrow?.status==="REFUNDED"?"REFUNDED":t.status==="RELEASED"||t.escrow?.status==="RELEASED"?"RELEASED":t.status==="VERIFYING"||t.status==="POSTED"||t.post?.viewUrl?"VERIFYING":t.status==="SCHEDULED"||t.schedule?.scheduledAt?"SCHEDULED":t.status==="CREATIVE_SUBMITTED"&&!t.creative?.approvedAt?"CREATIVE_REVIEW":t.status==="CREATIVE_APPROVED"||t.creative?.approvedAt?"CREATIVE_APPROVED":t.status==="CREATIVE_DRAFTING"?"CREATIVE_DRAFTING":t.status==="FUNDS_LOCKED"||t.escrow?.status==="FUNDS_LOCKED"?"FUNDS_LOCKED":t.status==="PAYMENT_CONFIRMING"||t.escrow?.status==="PAYMENT_CONFIRMING"?"PAYMENT_CONFIRMING":t.status==="PAYMENT_REQUIRED"||t.status==="OWNER_ACCEPTED"||t.escrow?.status==="AWAITING_PAYMENT"?"PAYMENT_REQUIRED":"REQUESTED",Oe=t=>{const e=G(t);return Fe[e]},Le=["Accepted","Payment","Creative","Scheduled","Posted","Released"],ke={REQUESTED:0,PAYMENT_REQUIRED:1,PAYMENT_CONFIRMING:1,FUNDS_LOCKED:2,CREATIVE_DRAFTING:2,CREATIVE_REVIEW:2,CREATIVE_APPROVED:3,SCHEDULED:3,VERIFYING:4,RELEASED:5,REFUNDED:5},_e=t=>{const e=G(t),r=ke[e];return Le.map((o,d)=>d<r?{label:o,state:"completed"}:d===r?{label:o,state:"current"}:{label:o,state:"upcoming"})},l={all:["deals"],list:t=>["deals","list",t],detail:t=>["deals","detail",t]},qe=t=>ie({queryKey:t?l.detail(t):l.detail("unknown"),queryFn:()=>{if(!t)throw new Error("Missing deal ID");return Te(t)},enabled:!!t}),Ge=()=>{const t=g();return w({mutationFn:e=>Se(e),onSuccess:e=>{t.invalidateQueries({queryKey:l.all}),t.setQueryData(l.detail(e.id),e),c.success("Creative approved")},onError:e=>{c.error(u(e,"Unable to approve creative"))}})},Qe=()=>{const t=g();return w({mutationFn:({id:e,note:r})=>je(e,r),onSuccess:e=>{t.invalidateQueries({queryKey:l.all}),t.setQueryData(l.detail(e.id),e),c.success("Edits requested")},onError:e=>{c.error(u(e,"Unable to request edits"))}})},Ye=()=>{const t=g();return w({mutationFn:e=>Ce(e),onSuccess:e=>{t.invalidateQueries({queryKey:l.all}),t.setQueryData(l.detail(e.id),e),c.success("Payment confirmed")},onError:e=>{c.error(u(e,"Unable to process payment"))}})},Ke=()=>{const t=g();return w({mutationFn:e=>Ie(e),onSuccess:e=>{t.invalidateQueries({queryKey:l.all}),t.setQueryData(l.detail(e.id),e),c.success("Post published")},onError:e=>{c.error(u(e,"Unable to simulate post"))}})},We=()=>{const t=g();return w({mutationFn:e=>Re(e),onSuccess:e=>{t.invalidateQueries({queryKey:l.all}),t.setQueryData(l.detail(e.id),e),c.success("Escrow released")},onError:e=>{c.error(u(e,"Unable to simulate release"))}})},$e=()=>{const t=g();return w({mutationFn:e=>Pe(e),onSuccess:e=>{t.invalidateQueries({queryKey:l.all}),t.setQueryData(l.detail(e.id),e),c.success("Deal refunded")},onError:e=>{c.error(u(e,"Unable to simulate refund"))}})};function st(){const{dealId:t}=ee(),[e,r]=v.useState(!1),[o,d]=v.useState(!1),h=te(),[D]=se(),{open:f}=re(),{data:a,isLoading:Q,error:j,refetch:Y}=qe(t),C=Ge(),I=Qe(),R=Ye(),P=Ke(),V=We(),U=$e(),x=e||C.isPending||I.isPending||R.isPending||P.isPending||V.isPending||U.isPending,b=v.useMemo(()=>a?Oe(a):null,[a]),K=v.useMemo(()=>a?_e(a):[],[a]),M=Me(a?.post?.verifyUntil),W=async()=>{if(a){r(!0);try{await C.mutateAsync(a.id)}finally{r(!1)}}},$=async()=>{if(a){r(!0);try{await I.mutateAsync({id:a.id,note:"Please tweak the CTA and shorten the headline."})}finally{r(!1)}}},z=async()=>{if(!a)return;const m=a.escrow?.depositAddress;if(!m){c.error("Payment address is missing");return}const T=a.escrow?.amountTon??a.priceTon;if(!Number.isFinite(T)||T<=0){c.error("Payment amount is invalid");return}if(!h){f(),c.info("Connect a TON wallet to continue");return}r(!0);try{await D.sendTransaction(ne({address:m,amountTon:T})),De&&await R.mutateAsync(a.id)}catch(J){c.error(u(J,"Unable to process payment"))}finally{r(!1)}},H=async()=>{if(a){r(!0);try{await P.mutateAsync(a.id)}finally{r(!1)}}},X=async()=>{if(a){r(!0);try{await V.mutateAsync(a.id)}finally{r(!1)}}},B=async()=>{if(a){r(!0);try{await U.mutateAsync(a.id)}finally{r(!1)}}},F=async m=>{m&&(await navigator.clipboard.writeText(m),c.success("Copied to clipboard"))};return s.jsx("div",{className:"w-full max-w-2xl mx-auto",children:s.jsx("div",{className:"px-4 py-6 space-y-4",children:Q?s.jsx(ce,{items:3}):j||!a||!b?s.jsx(oe,{message:u(j,"Deal not found"),description:"We couldn't load this deal right now.",onRetry:()=>Y()}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_240px] lg:items-start",children:[s.jsx(fe,{status:b.label,tone:b.tone,title:a.channel.title,username:a.channel.username,verified:a.channel.isVerified,price:`${a.priceTon} TON`,dealId:a.id,avatarUrl:a.channel.avatarUrl,statusDescription:b.description}),s.jsx(xe,{items:K})]}),s.jsxs(A,{title:"Escrow",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-foreground",children:[s.jsx("span",{children:a.escrow?.status??"Awaiting payment"}),s.jsxs("span",{className:"font-semibold",children:[a.escrow?.amountTon??a.priceTon," TON"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Escrow holds funds safely until the post is verified."}),a.escrow?.status==="AWAITING_PAYMENT"?s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("button",{type:"button",onClick:z,disabled:x,className:"inline-flex w-full items-center justify-center rounded-xl bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground disabled:pointer-events-none disabled:opacity-70",children:"Pay via Telegram Wallet"}),s.jsx("a",{href:a.escrow.depositAddress?ae({address:a.escrow.depositAddress,amountTon:a.escrow.amountTon,memo:a.escrow.memo}):void 0,className:"inline-flex w-full items-center justify-center rounded-xl border border-border/60 px-4 py-2 text-xs font-semibold text-foreground",children:"Open TON transfer link"}),s.jsxs("button",{type:"button",onClick:()=>d(m=>!m),className:"w-full rounded-xl border border-border/60 px-4 py-2 text-sm text-foreground",children:[o?"Hide":"Show"," manual transfer"]}),o?s.jsxs("div",{className:"space-y-2 rounded-xl border border-border/60 bg-background p-3 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Address"}),s.jsx("button",{type:"button",onClick:()=>F(a.escrow?.depositAddress),children:s.jsx(O,{size:14})})]}),s.jsx("p",{className:"break-all text-foreground",children:a.escrow?.depositAddress??"-"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Memo"}),s.jsx("button",{type:"button",onClick:()=>F(a.escrow?.memo),children:s.jsx(O,{size:14})})]}),s.jsx("p",{className:"text-foreground",children:a.escrow?.memo??"-"})]}):null,s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mock payments confirm after the wallet approval flow."})]}):null,s.jsx("div",{className:"mt-3 text-[11px] text-muted-foreground",children:Ve(a.updatedAt)})]}),s.jsxs(A,{title:"Creative",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:a.creative?.submittedAt?a.creative.approvedAt?"Approved":"Needs your review":"Waiting for channel owner"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.creative?.text??"Creative will appear here once submitted."}),a.creative?.submittedAt&&!a.creative?.approvedAt?s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:W,disabled:x,className:"rounded-full bg-primary px-4 py-2 text-xs font-semibold text-primary-foreground",children:"Approve"}),s.jsx("button",{type:"button",onClick:$,disabled:x,className:"rounded-full border border-border/60 px-4 py-2 text-xs text-foreground",children:"Request edits"})]}):s.jsx("p",{className:"mt-3 text-[11px] text-muted-foreground",children:"Approvals are confirmed via bot messaging."})]}),s.jsxs(A,{title:"Schedule",children:[s.jsx("p",{className:"text-sm text-foreground",children:Ue(a.schedule?.scheduledAt)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Timezone: ",a.schedule?.timezone??"UTC"]})]}),s.jsxs(A,{title:"Delivery",children:[s.jsx("p",{className:"text-sm text-foreground",children:a.post?.viewUrl?"Post live":"Waiting for delivery"}),a.post?.viewUrl?s.jsxs("a",{href:a.post.viewUrl,target:"_blank",rel:"noreferrer",className:"mt-2 inline-flex items-center gap-2 text-xs text-primary",children:[s.jsx(ue,{size:12})," View in Telegram"]}):null,s.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:M?`Release in: ${M}`:"Verification pending"}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:H,disabled:x,className:"rounded-full border border-border/60 px-3 py-1 text-xs",children:"Simulate Post Published"}),s.jsx("button",{type:"button",onClick:X,disabled:x,className:"rounded-full border border-border/60 px-3 py-1 text-xs",children:"Simulate Verify Pass"}),s.jsx("button",{type:"button",onClick:B,disabled:x,className:"rounded-full border border-border/60 px-3 py-1 text-xs",children:"Simulate Verify Fail"})]})]}),s.jsx("div",{className:"sticky bottom-4 rounded-2xl border border-border/60 bg-card/90 px-4 py-3 backdrop-blur",children:s.jsx("button",{type:"button",className:"w-full rounded-xl bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground",children:b.ctaLabel})})]})})})}export{st as default};
