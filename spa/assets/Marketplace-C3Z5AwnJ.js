import{c as Q,u as q,r as i,j as e,X as R,p as D,a as U}from"./index-DRXlEQSC.js";import{C as V,a as _}from"./ChannelListingsPreview-BtKmOTMy.js";import{f as B,l as G}from"./tagOptions-DoUmU6u5.js";import{C as w}from"./chevron-down-CP5ZmU4d.js";import{S as L}from"./skeleton-CUM0UYP-.js";import{E as H}from"./ErrorState-DF76VM0Y.js";import{P as X}from"./PageContainer-Dkcqb35W.js";import{u as J}from"./useQuery-nvLYV-bm.js";import"./ton-ClBVV2oW.js";import"./listingsApi-D3uGWJGk.js";import"./errors-3kY4UU5q.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Y=Q("search",W);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],ee=Q("sliders-horizontal",Z);function se({channel:r}){const l=q(),[o,c]=i.useState(!1);r.username?.replace(/^@/,"");const d=i.useMemo(()=>({id:r.id,name:r.name,username:r.username,about:r.about,avatarUrl:r.avatarUrl,subscribers:r.subscribers??null,placementsCount:r.placementsCount??null,minPriceNano:r.minPriceNano??null,currency:r.currency,tags:r.tags??[],listingsPreview:r.listingsPreview??null}),[r]),a=()=>{l(`/channels/${r.id}`,{state:{channel:d,listingsPreview:d.listingsPreview??null,placementsCount:d.placementsCount??null,minPriceNano:d.minPriceNano??null,tags:d.tags??[],subscribers:d.subscribers??null,avatarUrl:d.avatarUrl??null,rootBackTo:"/marketplace"}})};return e.jsx(V,{channel:d,onClick:a,isExpanded:o,onToggleExpand:()=>c(n=>!n),expandedContent:e.jsx(_,{channelId:r.id,isExpanded:o,mode:"viewer"})})}const re=({filters:r,onRemoveFilter:l})=>r.priceRange[0]>0||r.priceRange[1]<10||r.subscribersRange[0]>0||r.subscribersRange[1]<1e6||r.languages.length>0||r.categories.length>0||r.tags.length>0||r.verifiedOnly?e.jsx("div",{className:"px-4 py-3 bg-secondary/30 border-b border-border/30 space-y-2",children:e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[r.priceRange[0]>0||r.priceRange[1]<10?e.jsxs("button",{onClick:()=>l("priceRange"),className:"inline-flex items-center gap-1.5 bg-primary/20 hover:bg-primary/30 text-primary px-3 py-1.5 rounded-full text-xs font-medium transition-colors",children:["Price: ",r.priceRange[0].toFixed(1),"-",r.priceRange[1].toFixed(1)," TON",e.jsx(R,{size:14})]}):null,r.subscribersRange[0]>0||r.subscribersRange[1]<1e6?e.jsxs("button",{onClick:()=>l("subscribersRange"),className:"inline-flex items-center gap-1.5 bg-accent/20 hover:bg-accent/30 text-accent px-3 py-1.5 rounded-full text-xs font-medium transition-colors",children:["Subs: ",(r.subscribersRange[0]/1e3).toFixed(0),"K-",(r.subscribersRange[1]/1e3).toFixed(0),"K",e.jsx(R,{size:14})]}):null,r.verifiedOnly?e.jsxs("button",{onClick:()=>l("verifiedOnly"),className:"inline-flex items-center gap-1.5 bg-primary/20 hover:bg-primary/30 text-primary px-3 py-1.5 rounded-full text-xs font-medium transition-colors",children:["Verified Only",e.jsx(R,{size:14})]}):null,r.languages.map(c=>e.jsxs("button",{onClick:()=>l("languages",c),className:"inline-flex items-center gap-1.5 bg-primary/20 hover:bg-primary/30 text-primary px-3 py-1.5 rounded-full text-xs font-medium transition-colors",children:[c,e.jsx(R,{size:14})]},c)),r.categories.map(c=>e.jsxs("button",{onClick:()=>l("categories",c),className:"inline-flex items-center gap-1.5 bg-accent/20 hover:bg-accent/30 text-accent px-3 py-1.5 rounded-full text-xs font-medium transition-colors",children:[c,e.jsx(R,{size:14})]},c)),r.tags.map(c=>e.jsxs("button",{onClick:()=>l("tags",c),className:"inline-flex items-center gap-1.5 bg-secondary/70 hover:bg-secondary text-foreground px-3 py-1.5 rounded-full text-xs font-medium transition-colors",children:[c,e.jsx(R,{size:14})]},c))]})}):null,te=["EN","RU","ES","AR","DE","Other"],ne=["Crypto","Finance","Gaming","Tech","Lifestyle","News"],ae=({isOpen:r,onClose:l,filters:o,onApply:c,onReset:d})=>{const[a,n]=i.useState(o),C=(s,t=1)=>new Intl.NumberFormat("en",{maximumFractionDigits:t}).format(s),b=s=>new Intl.NumberFormat("en",{notation:"compact",maximumFractionDigits:1}).format(s),[u,k]=i.useState({pricing:!0,audience:!0,language:!1,category:!1,tags:!1,availability:!1,verification:!1}),[j,F]=i.useState(""),[N,S]=i.useState(""),T=B(G),P=[{label:"Any",range:[0,10]},{label:"0-1 TON",range:[0,1]},{label:"1-5 TON",range:[1,5]},{label:"5-10 TON",range:[5,10]}],z=[{label:"Any",range:[0,1e6]},{label:"0-10K",range:[0,1e4]},{label:"10-100K",range:[1e4,1e5]},{label:"100K-1M",range:[1e5,1e6]}];i.useEffect(()=>{n(o)},[o,r]);const f=s=>{k(t=>({...t,[s]:!t[s]}))},g=(s,t)=>{const x=[...a.priceRange];x[s]=t,n(v=>({...v,priceRange:x}))},M=(s,t)=>{const x=[...a.subscribersRange];x[s]=t,n(v=>({...v,subscribersRange:x}))},E=s=>{n(t=>({...t,languages:t.languages.includes(s)?t.languages.filter(x=>x!==s):[...t.languages,s]}))},A=s=>{n(t=>({...t,categories:t.categories.includes(s)?t.categories.filter(x=>x!==s):[...t.categories,s]}))},$=()=>{c(a),l()},I=()=>{d(),n({priceRange:[0,10],subscribersRange:[0,1e6],languages:[],categories:[],tags:[],verifiedOnly:!1,dateRange:["",""]})};return r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:l}),e.jsxs("div",{className:"fixed inset-x-0 bottom-0 top-0 bg-card rounded-t-2xl z-50 animate-in slide-in-from-bottom-10 duration-300 flex flex-col h-[100dvh] sm:h-auto sm:top-auto sm:max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-card border-b border-border/50 px-4 py-4 flex items-center justify-between rounded-t-2xl shrink-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Filters"}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-secondary rounded-lg transition-colors",children:e.jsx(R,{size:20,className:"text-foreground"})})]}),e.jsxs("div",{className:"px-4 py-4 space-y-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f("pricing"),className:"w-full flex items-center justify-between p-3 hover:bg-secondary/50 rounded-lg transition-colors",children:[e.jsx("span",{className:"font-semibold text-foreground",children:"Pricing (TON)"}),e.jsx(w,{size:18,className:`text-muted-foreground transition-transform ${u.pricing?"rotate-180":""}`})]}),u.pricing&&e.jsxs("div",{className:"px-3 space-y-3 pb-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(s=>e.jsx("button",{onClick:()=>n(t=>({...t,priceRange:s.range})),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${a.priceRange[0]===s.range[0]&&a.priceRange[1]===s.range[1]?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-secondary/80"}`,children:s.label},s.label))}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsx("input",{type:"number",value:a.priceRange[0],onChange:s=>g(0,parseFloat(s.target.value)||0),className:"w-full min-w-0 flex-1 bg-input border border-border rounded-lg px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Min"}),e.jsx("input",{type:"number",value:a.priceRange[1],onChange:s=>g(1,parseFloat(s.target.value)||10),className:"w-full min-w-0 flex-1 bg-input border border-border rounded-lg px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Max"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[C(a.priceRange[0])," -"," ",C(a.priceRange[1])," TON"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f("audience"),className:"w-full flex items-center justify-between p-3 hover:bg-secondary/50 rounded-lg transition-colors",children:[e.jsx("span",{className:"font-semibold text-foreground",children:"Audience"}),e.jsx(w,{size:18,className:`text-muted-foreground transition-transform ${u.audience?"rotate-180":""}`})]}),u.audience&&e.jsx("div",{className:"px-3 space-y-4 pb-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Subscribers"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:z.map(s=>e.jsx("button",{onClick:()=>n(t=>({...t,subscribersRange:s.range})),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${a.subscribersRange[0]===s.range[0]&&a.subscribersRange[1]===s.range[1]?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-secondary/80"}`,children:s.label},s.label))}),e.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:flex-row",children:[e.jsx("input",{type:"number",value:a.subscribersRange[0],onChange:s=>M(0,parseInt(s.target.value)||0),className:"w-full min-w-0 flex-1 bg-input border border-border rounded-lg px-3 py-2 text-xs text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Min"}),e.jsx("input",{type:"number",value:a.subscribersRange[1],onChange:s=>M(1,parseInt(s.target.value)||1e6),className:"w-full min-w-0 flex-1 bg-input border border-border rounded-lg px-3 py-2 text-xs text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Max"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b(a.subscribersRange[0])," -"," ",b(a.subscribersRange[1])]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f("language"),className:"w-full flex items-center justify-between p-3 hover:bg-secondary/50 rounded-lg transition-colors",children:[e.jsx("span",{className:"font-semibold text-foreground",children:"Language"}),e.jsx(w,{size:18,className:`text-muted-foreground transition-transform ${u.language?"rotate-180":""}`})]}),u.language&&e.jsx("div",{className:"px-3 pb-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:te.map(s=>e.jsx("button",{onClick:()=>E(s),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a.languages.includes(s)?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-secondary/80"}`,children:s},s))})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f("category"),className:"w-full flex items-center justify-between p-3 hover:bg-secondary/50 rounded-lg transition-colors",children:[e.jsx("span",{className:"font-semibold text-foreground",children:"Category"}),e.jsx(w,{size:18,className:`text-muted-foreground transition-transform ${u.category?"rotate-180":""}`})]}),u.category&&e.jsx("div",{className:"px-3 pb-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map(s=>e.jsx("button",{onClick:()=>A(s),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a.categories.includes(s)?"bg-accent text-accent-foreground":"bg-secondary text-foreground hover:bg-secondary/80"}`,children:s},s))})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f("tags"),className:"w-full flex items-center justify-between p-3 hover:bg-secondary/50 rounded-lg transition-colors",children:[e.jsx("span",{className:"font-semibold text-foreground",children:"Tags"}),e.jsx(w,{size:18,className:`text-muted-foreground transition-transform ${u.tags?"rotate-180":""}`})]}),u.tags&&e.jsxs("div",{className:"px-3 pb-3 space-y-3",children:[e.jsx("input",{type:"text",value:j,onChange:s=>F(s.target.value),placeholder:"Search tags",className:"w-full rounded-lg border border-border bg-input px-3 py-2 text-sm text-foreground"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:N,onChange:s=>S(s.target.value),placeholder:"Add custom tag",className:"flex-1 rounded-lg border border-border bg-input px-3 py-2 text-sm text-foreground"}),e.jsx("button",{type:"button",onClick:()=>{const s=N.trim();s&&(n(t=>({...t,tags:t.tags.includes(s)?t.tags:[...t.tags,s]})),S(""))},className:"rounded-lg border border-primary/40 bg-primary/10 px-3 py-2 text-xs font-semibold text-primary",children:"Add"})]}),a.tags.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(s=>e.jsxs("button",{type:"button",onClick:()=>n(t=>({...t,tags:t.tags.filter(x=>x!==s)})),className:"rounded-full bg-secondary px-3 py-1 text-xs text-foreground hover:bg-secondary/80",children:[s," Ã—"]},s))}):null,e.jsx("div",{className:"flex flex-wrap gap-2",children:T.filter(s=>s.toLowerCase().includes(j.trim().toLowerCase())).map(s=>{const t=a.tags.includes(s);return e.jsx("button",{type:"button",onClick:()=>n(x=>({...x,tags:t?x.tags.filter(v=>v!==s):[...x.tags,s]})),className:`rounded-full border px-3 py-1 text-xs transition-colors ${t?"border-primary/60 bg-primary/20 text-primary":"border-border/60 bg-card text-muted-foreground hover:text-foreground"}`,children:s},s)})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f("availability"),className:"w-full flex items-center justify-between p-3 hover:bg-secondary/50 rounded-lg transition-colors",children:[e.jsx("span",{className:"font-semibold text-foreground",children:"Availability"}),e.jsx(w,{size:18,className:`text-muted-foreground transition-transform ${u.availability?"rotate-180":""}`})]}),u.availability&&e.jsxs("div",{className:"px-3 pb-3 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"From date"}),e.jsx("input",{type:"date",value:a.dateRange[0],onChange:s=>n(t=>({...t,dateRange:[s.target.value,t.dateRange[1]]})),className:"w-full bg-input border border-border rounded-lg px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"To date"}),e.jsx("input",{type:"date",value:a.dateRange[1],onChange:s=>n(t=>({...t,dateRange:[t.dateRange[0],s.target.value]})),className:"w-full bg-input border border-border rounded-lg px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>f("verification"),className:"w-full flex items-center justify-between p-3 hover:bg-secondary/50 rounded-lg transition-colors",children:[e.jsx("span",{className:"font-semibold text-foreground",children:"Verification"}),e.jsx(w,{size:18,className:`text-muted-foreground transition-transform ${u.verification?"rotate-180":""}`})]}),u.verification&&e.jsx("div",{className:"px-3 pb-3",children:e.jsxs("label",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-secondary/50 rounded-lg transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a.verifiedOnly,onChange:s=>n(t=>({...t,verifiedOnly:s.target.checked})),className:"w-5 h-5 bg-secondary border border-border rounded accent-primary cursor-pointer"}),e.jsx("span",{className:"text-foreground font-medium",children:"Verified channels only"})]})})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-card border-t border-border/50 px-4 py-4 space-y-3",children:[e.jsx("button",{onClick:$,className:"button-primary w-full py-3 text-base font-semibold",children:"Apply Filters"}),e.jsx("button",{onClick:I,className:"button-secondary w-full py-3 text-base font-semibold",children:"Reset"})]})]})]}):null},oe=async r=>D("/marketplace/channels/list",r),h={priceRange:[0,100],subscribersRange:[0,1e6],languages:[],categories:[],tags:[],verifiedOnly:!1,dateRange:["",""]},ie={channels:(r,l,o,c,d)=>["marketplaceChannels",r,l,o,c,d]},le=()=>{const[r,l]=i.useState(""),[o,c]=i.useState(""),[d,a]=i.useState(!1),[n,C]=i.useState(h),[b,u]=i.useState(1),[k]=i.useState(20),[j]=i.useState("recent"),[F]=i.useState("desc"),[N,S]=i.useState([]),[T,P]=i.useState(0);i.useEffect(()=>{const p=window.setTimeout(()=>{c(r.trim())},300);return()=>{window.clearTimeout(p)}},[r]);const z=i.useMemo(()=>{const p=n.priceRange[0]===h.priceRange[0]&&n.priceRange[1]===h.priceRange[1],y=n.subscribersRange[0]===h.subscribersRange[0]&&n.subscribersRange[1]===h.subscribersRange[1];return{q:o||void 0,tags:n.tags.length>0?n.tags:void 0,minSubscribers:y?void 0:n.subscribersRange[0],maxSubscribers:y?void 0:n.subscribersRange[1],minPriceTon:p?void 0:n.priceRange[0],maxPriceTon:p?void 0:n.priceRange[1],...n.verifiedOnly?{verifiedOnly:!0}:{},page:b,limit:k,sort:j,order:F}},[o,n,k,F,b,j]),f=i.useMemo(()=>({...n,q:o||void 0}),[o,n]);i.useEffect(()=>{u(1),S([]),P(0)},[f,k,F,j]);const g=J({queryKey:ie.channels(f,b,k,j,F),queryFn:()=>oe(z)});i.useEffect(()=>{g.data&&(P(g.data.total),S(p=>{if(b===1)return g.data.items;const y=new Map(p.map(m=>[m.id,m]));return g.data.items.forEach(m=>y.set(m.id,m)),Array.from(y.values())}))},[b,g.data]),i.useEffect(()=>{if(!g.error)return;const p=g.error instanceof Error?g.error.message:"Unable to load channels";U.error(p)},[g.error]);const M=N.length<T,E=g.isLoading&&b===1&&N.length===0,A=g.isFetching&&b>1,$=i.useMemo(()=>N,[N]),I=()=>{g.isFetching||!M||u(p=>p+1)},s=(p,y)=>{C(m=>{switch(p){case"priceRange":return{...m,priceRange:h.priceRange};case"subscribersRange":return{...m,subscribersRange:h.subscribersRange};case"verifiedOnly":return{...m,verifiedOnly:!1};case"languages":return{...m,languages:m.languages.filter(O=>O!==y)};case"categories":return{...m,categories:m.categories.filter(O=>O!==y)};case"tags":return{...m,tags:m.tags.filter(O=>O!==y)};default:return m}})},t=()=>a(!0),x=()=>a(!1),v=p=>C(p),K=()=>C(h);return{state:{searchQuery:r,isFilterOpen:d,filters:n,isLoading:E,isLoadingMore:A,error:g.error,total:T},computed:{channels:$,hasMore:M},actions:{setSearchQuery:l,openFilters:t,closeFilters:x,applyFilters:v,resetFilters:K,removeFilter:s,refetch:()=>g.refetch(),loadMore:I}}};function je(){const{state:r,computed:l,actions:o}=le(),c=r.error instanceof Error?r.error.message:"Unable to load channels";return e.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[e.jsxs(X,{className:"pt-4 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("button",{type:"button",onClick:o.openFilters,className:"inline-flex items-center gap-2 rounded-lg bg-secondary/60 px-3 py-1 text-xs text-muted-foreground",children:[e.jsx(ee,{size:14}),"Filters"]})}),e.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-border/60 bg-card px-3 py-2",children:[e.jsx(Y,{size:16,className:"text-muted-foreground"}),e.jsx("input",{value:r.searchQuery,onChange:d=>o.setSearchQuery(d.target.value),placeholder:"Search channels or @username",className:"flex-1 bg-transparent text-sm text-foreground placeholder:text-muted-foreground focus:outline-none"})]}),e.jsx(re,{filters:r.filters,onRemoveFilter:o.removeFilter})]}),e.jsxs("div",{className:"space-y-3",children:[r.isLoading?Array.from({length:5}).map((d,a)=>e.jsx("div",{className:"rounded-2xl border border-border/50 bg-card/80 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(L,{className:"h-12 w-12 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(L,{className:"h-4 w-40"}),e.jsx(L,{className:"h-3 w-24"}),e.jsx(L,{className:"h-3 w-32"})]}),e.jsx(L,{className:"h-4 w-16"})]})},`marketplace-skeleton-${a}`)):l.channels.map(d=>e.jsx(se,{channel:d},d.id)),!r.isLoading&&r.error&&l.channels.length===0?e.jsx(H,{message:c,description:"Please try again when you have a stable connection.",onRetry:o.refetch}):null,!r.isLoading&&r.error&&l.channels.length>0?e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-red-500/5 p-4 text-sm text-red-200",children:[e.jsx("p",{className:"font-medium",children:c}),e.jsx("button",{type:"button",onClick:o.refetch,className:"mt-3 inline-flex items-center rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-1 text-xs font-semibold text-red-100",children:"Retry"})]}):null,!r.isLoading&&!r.error&&l.channels.length===0?e.jsx("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-6 text-center text-sm text-muted-foreground",children:"No channels found. Try a new search."}):null,!r.isLoading&&l.channels.length>0?e.jsx("div",{className:"flex justify-center pt-2",children:l.hasMore?e.jsx("button",{type:"button",onClick:o.loadMore,disabled:r.isLoadingMore,className:"inline-flex items-center gap-2 rounded-lg border border-border/60 bg-secondary/50 px-4 py-2 text-xs font-semibold text-foreground disabled:opacity-60",children:r.isLoadingMore?"Loading more...":"Load more"}):e.jsx("span",{className:"text-xs text-muted-foreground",children:"No more channels"})}):null]})]}),e.jsx(ae,{isOpen:r.isFilterOpen,onClose:o.closeFilters,filters:r.filters,onApply:o.applyFilters,onReset:o.resetFilters})]})}export{je as default};
