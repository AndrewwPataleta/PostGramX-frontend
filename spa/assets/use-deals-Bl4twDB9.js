import{u as r}from"./useQuery-onZHD_1B.js";import{f as u,e as o,u as a,g as c}from"./index-D1JYa1Mh.js";import{u as i}from"./useMutation-CkFlFw74.js";import{c as n,f as l}from"./dealsApi-IR9uA1lc.js";const m=e=>r({queryKey:["deals",e.role??"all",e.pendingPage??1,e.activePage??1,e.completedPage??1],queryFn:()=>l(e),staleTime:2e4,refetchOnWindowFocus:!1}),y=()=>{const e=u(),s=o();return i({mutationFn:t=>n(t),onSuccess:()=>{a.success("Deal created"),c()?.HapticFeedback?.notificationOccurred?.("success"),e.invalidateQueries({queryKey:["deals"]}),s("/deals",{state:{activeTab:"pending"},replace:!0})},onError:t=>{a.error(t.message)}})};export{m as a,y as u};
