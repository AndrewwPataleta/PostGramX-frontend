import{a as u,b as p,j as e,L as g}from"./index-DrYRFlek.js";import{E as f}from"./ErrorState-D8fCXnCV.js";import{f as b,n as h}from"./ton-ClBVV2oW.js";import{C as j}from"./check-DpMPMPGo.js";const x=n=>n>=168&&n%24===0?`${n/24}d`:`${n}h`;function T(){const{channelId:n}=u(),s=p().state?.channel,t=(s?.listings??[]).filter(r=>r.isActive!==!1),i=t.reduce((r,d)=>{const l=BigInt(d.priceNano);return r===null||l<r?l:r},null),o=i?b(h(i)):null,a=t[0],m=t.some(r=>r.pinDurationHours!==null),c=Array.from(new Set(t.flatMap(r=>r.tags.map(d=>d.trim()).filter(Boolean))));return e.jsx("div",{className:"w-full max-w-2xl mx-auto",children:e.jsx("div",{className:"px-4 py-6 space-y-4",children:!s||s.id!==n?e.jsx(f,{message:"Channel not found",description:"We couldn't load this channel."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-4",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start",children:[e.jsx("div",{className:"flex h-16 w-16 shrink-0 items-center justify-center rounded-2xl bg-primary/10 text-2xl",children:s.avatarUrl?e.jsx("img",{src:s.avatarUrl,alt:s.name,className:"h-16 w-16 rounded-2xl object-cover"}):s.name?.[0]?.toUpperCase()}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:s.name}),s.verified?e.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-primary/20 p-1",children:e.jsx(j,{size:14,className:"text-primary"})}):null]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",s.username]})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/80 p-4 text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Subscribers"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-foreground",children:s.subscribers?`${Math.round(s.subscribers/1e3)}K`:"--"})]}),e.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/80 p-4 text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Placements"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-foreground",children:t.length})]}),e.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/80 p-4 text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pinned options"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-foreground",children:m?"Yes":"No"})]})]}),e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-6",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pricing"}),e.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-semibold text-foreground",children:o??"--"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"TON per post"})]}),e.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Pricing includes escrow protection and bot-assisted messaging."}),e.jsx(g,{to:`/marketplace/channels/${s.id}/request`,state:{listingId:a?.id},className:"mt-5 inline-flex w-full items-center justify-center rounded-xl bg-primary px-4 py-3 text-sm font-semibold text-primary-foreground",children:"Request Placement"})]}),t.length>0?e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Active listings"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," placements available"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),e.jsxs("p",{className:"text-lg font-semibold text-primary",children:[o??"--"," TON"]})]})]}),a?e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/70 p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pinned"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:a.pinDurationHours?x(a.pinDurationHours):"Not pinned"})]}),e.jsxs("div",{className:"rounded-xl border border-border/60 bg-card/70 p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:x(a.visibilityDurationHours??24)})]})]}):null,c.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-foreground",children:c.map(r=>e.jsx("span",{className:"rounded-full border border-border/60 bg-card px-2.5 py-1",children:r},r))})]}):null]}):e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-6 text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:"No listings yet"}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Create a listing to start receiving marketplace requests."})]})]})})})}export{T as default};
