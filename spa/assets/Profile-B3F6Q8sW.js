import{c as C,Y as ze,r,j as e,f as qe,P as q,M as Be,J as _,a as v,X as Ve,H as He,Z as Qe,_ as Ke,p as Ge,q as Xe,s as Ye,$ as Je,o as j}from"./index-PiAwgRsO.js";import{b as Ze,a as et}from"./payment-BuGK4VCJ.js";import{u as re}from"./useQuery-DfkOAhN6.js";import{E as tt,g as st}from"./errors-BKbDTmQE.js";import{L as at}from"./LoadingSkeleton-DSquG8IX.js";import{I as Y}from"./input-BF2qfvPn.js";import{R as rt,P as ot,C as oe,a as nt,T as ne,D as ie,O as le}from"./index-CvqTb1iY.js";import{L as J}from"./lock-CyyRri7z.js";import{C as Z}from"./circle-check-jT4IWNXN.js";import"./Combination-DRBGqKR8.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lt=C("clock",it);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ct=C("history",dt);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mt=C("send",pt);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xt=C("shield-check",ut);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ht=C("wallet",ft);var P={exports:{}},W={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee;function gt(){if(ee)return W;ee=1;var a=ze();function t(d,c){return d===c&&(d!==0||1/d===1/c)||d!==d&&c!==c}var o=typeof Object.is=="function"?Object.is:t,i=a.useState,l=a.useEffect,n=a.useLayoutEffect,m=a.useDebugValue;function x(d,c){var f=c(),N=i({inst:{value:f,getSnapshot:c}}),p=N[0].inst,T=N[1];return n(function(){p.value=f,p.getSnapshot=c,u(p)&&T({inst:p})},[d,f,c]),l(function(){return u(p)&&T({inst:p}),d(function(){u(p)&&T({inst:p})})},[d]),m(f),f}function u(d){var c=d.getSnapshot;d=d.value;try{var f=c();return!o(d,f)}catch{return!0}}function g(d,c){return c()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:x;return W.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:y,W}var te;function bt(){return te||(te=1,P.exports=gt()),P.exports}var yt=bt();function Nt(){return yt.useSyncExternalStore(jt,()=>!0,()=>!1)}function jt(){return()=>{}}var B="Avatar",[vt,Bt]=qe(B),[wt,de]=vt(B),ce=r.forwardRef((a,t)=>{const{__scopeAvatar:o,...i}=a,[l,n]=r.useState("idle");return e.jsx(wt,{scope:o,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:e.jsx(q.span,{...i,ref:t})})});ce.displayName=B;var pe="AvatarImage",me=r.forwardRef((a,t)=>{const{__scopeAvatar:o,src:i,onLoadingStatusChange:l=()=>{},...n}=a,m=de(pe,o),x=St(i,n),u=Be(g=>{l(g),m.onImageLoadingStatusChange(g)});return _(()=>{x!=="idle"&&u(x)},[x,u]),x==="loaded"?e.jsx(q.img,{...n,ref:t,src:i}):null});me.displayName=pe;var ue="AvatarFallback",xe=r.forwardRef((a,t)=>{const{__scopeAvatar:o,delayMs:i,...l}=a,n=de(ue,o),[m,x]=r.useState(i===void 0);return r.useEffect(()=>{if(i!==void 0){const u=window.setTimeout(()=>x(!0),i);return()=>window.clearTimeout(u)}},[i]),m&&n.imageLoadingStatus!=="loaded"?e.jsx(q.span,{...l,ref:t}):null});xe.displayName=ue;function se(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function St(a,{referrerPolicy:t,crossOrigin:o}){const i=Nt(),l=r.useRef(null),n=i?(l.current||(l.current=new window.Image),l.current):null,[m,x]=r.useState(()=>se(n,a));return _(()=>{x(se(n,a))},[n,a]),_(()=>{const u=d=>()=>{x(d)};if(!n)return;const g=u("loaded"),y=u("error");return n.addEventListener("load",g),n.addEventListener("error",y),t&&(n.referrerPolicy=t),typeof o=="string"&&(n.crossOrigin=o),()=>{n.removeEventListener("load",g),n.removeEventListener("error",y)}},[n,o,t]),m}var fe=ce,he=me,ge=xe;const be=r.forwardRef(({className:a,...t},o)=>e.jsx(fe,{ref:o,className:v("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));be.displayName=fe.displayName;const ye=r.forwardRef(({className:a,...t},o)=>e.jsx(he,{ref:o,className:v("aspect-square h-full w-full",a),...t}));ye.displayName=he.displayName;const Ne=r.forwardRef(({className:a,...t},o)=>e.jsx(ge,{ref:o,className:v("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));Ne.displayName=ge.displayName;const je=async(a=250,t=500)=>{const o=Math.floor(Math.random()*(t-a+1))+a;await new Promise(i=>setTimeout(i,o))},ve={balance:{available:124.5,locked:35,pendingRelease:12,instantWithdraw:18},transactions:[{type:"Deposit",amount:"+50 TON",status:"Confirmed",time:"Today · 12:08"},{type:"Escrow Lock",amount:"-35 TON",status:"Pending",time:"Today · 11:42"},{type:"Escrow Release",amount:"+35 TON",status:"Confirmed",time:"Yesterday · 18:20"},{type:"Withdrawal",amount:"-12 TON",status:"Processing",time:"Yesterday · 16:05"},{type:"Refund",amount:"+8 TON",status:"Confirmed",time:"Aug 20 · 09:45"}],topUpAddress:"EQABc7p8sT1h8Q8p2x9K4Qx9nX9z1q8Qx0Qx9nX9z1q8Qx0Qx",topUpMemo:"PGX-TOPUP"};console.info("MOCK MODE ENABLED for Profile");const Tt=async()=>(await je(),ve),kt=async()=>(await je(),ve.balance),we={all:["profile"],overview:()=>["profile","overview"],balance:()=>["profile","balance"]},Ct=()=>re({queryKey:we.overview(),queryFn:Tt}),At=()=>re({queryKey:we.balance(),queryFn:kt}),ae=rt,Et=ot,Se=r.forwardRef(({className:a,...t},o)=>e.jsx(le,{className:v("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:o}));Se.displayName=le.displayName;const Lt=He("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$=r.forwardRef(({side:a="right",className:t,children:o,...i},l)=>e.jsxs(Et,{children:[e.jsx(Se,{}),e.jsxs(oe,{ref:l,className:v(Lt({side:a}),t),...i,children:[o,e.jsxs(nt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Ve,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$.displayName=oe.displayName;const M=({className:a,...t})=>e.jsx("div",{className:v("flex flex-col space-y-2 text-center sm:text-left",a),...t});M.displayName="SheetHeader";const D=r.forwardRef(({className:a,...t},o)=>e.jsx(ne,{ref:o,className:v("text-lg font-semibold text-foreground",a),...t}));D.displayName=ne.displayName;const z=r.forwardRef(({className:a,...t},o)=>e.jsx(ie,{ref:o,className:v("text-sm text-muted-foreground",a),...t}));z.displayName=ie.displayName;const Ot={Confirmed:"bg-emerald-500/15 text-emerald-300",Pending:"bg-amber-500/15 text-amber-300",Processing:"bg-sky-500/15 text-sky-300",Failed:"bg-rose-500/15 text-rose-300"},Ut=[10,25,50],It=[5,10,20];function Vt(){const{user:a}=Qe(),{t,language:o,setLanguage:i}=Ke(),[l,n]=r.useState("history"),{data:m,isLoading:x,error:u,refetch:g}=Ct(),{data:y}=At(),[d,c]=r.useState([]),[f,N]=r.useState(0),[p,T]=r.useState(50),[Te,ke]=r.useState("50"),[V,O]=r.useState("idle"),[A,H]=r.useState(!1),[Ce,k]=r.useState(!1),[w,Ae]=r.useState(18),[Ee,Le]=r.useState("18"),[Oe,U]=r.useState("idle"),[E,Q]=r.useState(!1),[Ue,S]=r.useState(!1),Ie=Ge(),[Fe]=Xe(),{open:Re}=Ye(),I=a?`${a.first_name}${a.last_name?` ${a.last_name}`:""}`:t("profile.displayNameFallback"),Pe=a?.username?`@${a.username}`:t("profile.usernameFallback"),We=I.split(" ").filter(Boolean).slice(0,2).map(s=>s[0]?.toUpperCase()).join(""),F=m?.balance,R=m?.topUpAddress??"—",K=m?.topUpMemo??"—";r.useEffect(()=>{m&&(c(m.transactions),N(m.balance.available))},[m]),r.useEffect(()=>{y&&N(y.available)},[y]);const G=s=>{ke(s);const h=Number(s);Number.isFinite(h)&&T(h)},L=s=>{Le(s);const h=Number(s);Number.isFinite(h)&&Ae(h)},X=async()=>{if(!Number.isFinite(p)||p<=0){j.error(t("profile.toastSelectValidTopUp"));return}if(!Ie){Re(),j.info(t("profile.toastConnectWallet"));return}H(!0),O("pending");try{await Fe.sendTransaction(et({address:R,amountTon:p})),N(b=>Number((b+p).toFixed(2)));const h=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});c(b=>[{type:"Deposit",amount:`+${p} TON`,status:"Confirmed",time:`${t("profile.today")} · ${h}`},...b]),O("confirmed"),k(!1),j.success(t("profile.toastTopUpConfirmed"))}catch(s){O("idle"),j.error(s instanceof Error?s.message:t("profile.toastTopUpFailed"))}finally{H(!1)}},_e=async()=>{if(!Number.isFinite(w)||w<=0){j.error(t("profile.toastSelectValidWithdraw"));return}if(w>f){j.error(t("profile.toastInsufficientBalance"));return}Q(!0),U("pending");try{N(b=>Number(Math.max(b-w,0).toFixed(2)));const h=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});c(b=>[{type:"Withdrawal",amount:`-${w} TON`,status:"Processing",time:`${t("profile.today")} · ${h}`},...b]),U("confirmed"),S(!1),j.success(t("profile.toastWithdrawSubmitted"))}catch(s){U("idle"),j.error(s instanceof Error?s.message:t("profile.toastWithdrawFailed"))}finally{Q(!1)}},$e=Ze({address:R,amountTon:p,memo:K}),Me=s=>({Deposit:t("profile.transactionTypeDeposit"),Withdrawal:t("profile.transactionTypeWithdrawal")})[s]??s,De=s=>({Confirmed:t("profile.transactionStatusConfirmed"),Pending:t("profile.transactionStatusPending"),Processing:t("profile.transactionStatusProcessing"),Failed:t("profile.transactionStatusFailed")})[s]??s;return e.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[e.jsx("div",{className:"sticky top-0 z-20 bg-background/90 backdrop-blur-glass border-b border-border/50",children:e.jsx("div",{className:"px-4 py-3",children:e.jsx("h1",{className:"text-base font-semibold text-foreground",children:t("profile.walletTitle")})})}),e.jsx("div",{className:"px-4 py-6 space-y-6 pb-20",children:x?e.jsx(at,{items:2}):u?e.jsx(tt,{message:st(u,"Unable to load profile"),description:"Please reconnect your session and try again.",onRetry:()=>g()}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"glass p-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(be,{className:"h-14 w-14",children:[e.jsx(ye,{src:a?.photo_url,alt:I}),e.jsx(Ne,{className:"bg-primary/15 text-primary text-lg font-semibold",children:We||"TG"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:I}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Pe}),e.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-secondary/60 px-3 py-1 text-[11px] font-medium text-muted-foreground",children:[e.jsx(xt,{size:14,className:"text-primary/80"}),t("profile.connectedViaTelegram")]})]})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-[340px_1fr]",children:[e.jsxs("div",{className:"space-y-6 lg:sticky lg:top-20 lg:self-start",children:[e.jsxs("div",{className:"relative rounded-[28px] border border-border/40 bg-background/70 shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-border/40 flex items-center justify-between gap-3",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:t("profile.walletSummary")}),e.jsx(Je,{className:"shrink-0"})]}),e.jsxs("div",{className:"px-5 py-5 space-y-4 pb-6",children:[e.jsxs("div",{className:"glass p-4 space-y-3",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.balanceLabel")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[t("profile.availableBalance")," ",f.toFixed(2)," TON"]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[t("profile.lockedInEscrow")," ",F?.locked??0," ","TON"]}),e.jsxs("span",{children:[t("profile.pendingRelease")," ",F?.pendingRelease??0," TON"]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.lockedFundsNote")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",className:"button-primary rounded-2xl py-2 text-sm",onClick:()=>{n("topup"),k(!0)},children:t("profile.topUp")}),e.jsx("button",{type:"button",className:"button-primary rounded-2xl py-2 text-sm bg-primary/80 hover:bg-primary",onClick:()=>{n("withdraw"),S(!0)},children:t("profile.withdraw")})]}),e.jsxs("div",{className:"glass p-4 space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.instantWithdraw")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[F?.instantWithdraw?.toFixed(2)??"0.00"," TON"]}),e.jsx("button",{type:"button",className:"rounded-full border border-border/40 px-3 py-1 text-xs text-muted-foreground",onClick:()=>{n("withdraw"),S(!0)},children:t("profile.withdrawNow")})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:t("profile.savedWallet")})]})]})]}),e.jsxs("div",{className:"glass p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:t("profile.language")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.languageDescription")})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"en",label:t("profile.languageOptionEnglish")},{value:"ru",label:t("profile.languageOptionRussian")}].map(s=>e.jsx("button",{type:"button",onClick:()=>i(s.value),className:`rounded-full border px-3 py-1 text-xs transition ${o===s.value?"border-primary/60 bg-primary/20 text-primary":"border-border/40 text-muted-foreground hover:text-foreground"}`,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"rounded-[28px] border border-border/40 bg-background/70 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-5 py-4 border-b border-border/40",children:e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:[{id:"history",label:t("profile.sectionHistory"),icon:ct},{id:"escrow",label:t("profile.sectionEscrow"),icon:J}].map(({id:s,label:h,icon:b})=>e.jsxs("button",{type:"button",onClick:()=>{s==="topup"&&k(!0),n(s)},className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-medium transition ${l===s?"border-primary/60 bg-primary/15 text-primary":"border-border/40 text-muted-foreground hover:text-foreground"}`,children:[e.jsx(b,{size:14}),h]},s))})}),e.jsxs("div",{className:"px-5 py-5 space-y-4 pb-8",children:[l==="history"&&e.jsxs("div",{className:"glass p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:t("profile.transactionHistory")}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t("profile.last7Days")})]}),e.jsx("div",{className:"mt-4 space-y-3",children:d.map(s=>e.jsxs("div",{className:"flex items-start justify-between gap-3 border-b border-border/30 pb-3 last:border-b-0 last:pb-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"rounded-full bg-secondary/60 px-2 py-0.5 text-[11px] text-muted-foreground",children:Me(s.type)}),e.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] ${Ot[s.status]||"bg-muted text-muted-foreground"}`,children:De(s.status)})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.time})]}),e.jsx("p",{className:"text-sm font-semibold text-foreground",children:s.amount})]},`${s.type}-${s.time}`))})]}),l==="topup"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"glass p-4 space-y-3",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.topUpBalance")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("profile.tonAmount")}),e.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[p.toFixed(2)," TON"]})]}),e.jsx(ht,{size:20,className:"text-primary/80"})]}),e.jsx("button",{type:"button",className:"rounded-full border border-primary/40 bg-primary/10 px-3 py-1 text-xs text-primary/80 transition hover:border-primary/60 hover:bg-primary/20",onClick:()=>k(!0),children:"Change amount"})]}),e.jsxs("div",{className:"glass p-4 space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.paymentMethod")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:t("profile.tonWallet")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.payUsing")})]}),e.jsx("span",{className:"rounded-full bg-secondary/60 px-3 py-1 text-[11px] text-muted-foreground",children:t("profile.selected")})]})]}),e.jsx("button",{type:"button",className:"button-primary rounded-2xl py-4 disabled:pointer-events-none disabled:opacity-70",onClick:X,disabled:A,children:t(A?"profile.processing":"profile.proceedToPayment")}),e.jsxs("div",{className:"glass p-4 space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.paymentInstructions")}),e.jsxs("div",{className:"space-y-1 text-sm text-foreground",children:[e.jsx("p",{children:$e}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t("profile.address")," ",R]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t("profile.memo")," ",K]})]})]}),V==="pending"?e.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-primary/30 bg-primary/10 px-4 py-3 text-xs text-primary",children:[e.jsx(lt,{size:14}),t("profile.waitingConfirmation")]}):null,V==="confirmed"?e.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-emerald-400/30 bg-emerald-500/10 px-4 py-3 text-xs text-emerald-200",children:[e.jsx(Z,{size:14}),t("profile.topUpConfirmed")]}):null]}),l==="withdraw"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"glass p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.withdrawFunds")}),e.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[w.toFixed(2)," TON"]})]}),e.jsx("button",{type:"button",className:"rounded-full border border-border/40 px-3 py-1 text-xs text-muted-foreground",onClick:()=>L(f.toFixed(2)),children:t("profile.max")})]}),e.jsx("button",{type:"button",className:"rounded-full border border-primary/40 bg-primary/10 px-3 py-1 text-xs text-primary/80 transition hover:border-primary/60 hover:bg-primary/20",onClick:()=>S(!0),children:t("profile.changeAmount")})]}),e.jsxs("div",{className:"glass p-4 space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.destinationWallet")}),e.jsx("p",{className:"text-sm text-foreground",children:"EQB7...m0fLr"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:t("profile.networkFeeEstimate")}),e.jsx("span",{children:"~0.05 TON"})]}),e.jsx("div",{className:"rounded-2xl border border-amber-400/30 bg-amber-500/10 px-4 py-3 text-xs text-amber-200",children:t("profile.withdrawWarning")}),e.jsx("button",{type:"button",className:"button-primary rounded-2xl py-4 disabled:pointer-events-none disabled:opacity-70",onClick:()=>S(!0),disabled:E,children:t(E?"profile.processing":"profile.withdrawAction")}),Oe==="confirmed"?e.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-emerald-400/30 bg-emerald-500/10 px-4 py-3 text-xs text-emerald-200",children:[e.jsx(Z,{size:14}),t("profile.withdrawSubmitted")]}):null]}),l==="escrow"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"glass p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(J,{size:16,className:"text-primary/80"}),e.jsx("p",{className:"text-sm font-semibold",children:t("profile.howEscrowWorks")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("profile.escrowDescription")})]}),e.jsxs("div",{className:"glass p-4 space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:t("profile.trustIndicators")}),e.jsx("div",{className:"grid gap-2",children:[t("profile.trustIndicatorTonNetwork"),t("profile.trustIndicatorOnChainVerification"),t("profile.trustIndicatorAutomatedEscrow"),t("profile.trustIndicatorSmartContractTransparency")].map(s=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-primary"}),e.jsx("span",{className:"text-foreground",children:s})]},s))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(mt,{size:14,className:"text-primary/70"}),t("profile.automatedReleases")]})]})]})]})]})]})}),e.jsx(ae,{open:Ce,onOpenChange:k,children:e.jsxs($,{side:"bottom",className:"rounded-t-3xl border-t border-border/60 bg-background/95 px-5 pb-8 pt-6",children:[e.jsxs(M,{className:"text-left",children:[e.jsx(D,{children:"Top up balance"}),e.jsx(z,{children:"Enter the TON amount you want to add to your wallet."})]}),e.jsxs("div",{className:"mt-5 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Amount (TON)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{type:"number",inputMode:"decimal",min:"0",step:"0.01",value:Te,onChange:s=>G(s.target.value),className:"h-12 rounded-2xl text-lg",placeholder:"0.00"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"TON"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ut.map(s=>e.jsxs("button",{type:"button",onClick:()=>G(s.toString()),className:`rounded-full border px-3 py-1 text-xs transition ${p===s?"border-primary/60 bg-primary/20 text-primary":"border-primary/40 bg-primary/10 text-primary/80"}`,children:["+",s," TON"]},s))}),e.jsx("button",{type:"button",className:"button-primary rounded-2xl py-4 disabled:pointer-events-none disabled:opacity-70",onClick:X,disabled:A,children:A?"Processing...":"Top up"})]})]})}),e.jsx(ae,{open:Ue,onOpenChange:S,children:e.jsxs($,{side:"bottom",className:"rounded-t-3xl border-t border-border/60 bg-background/95 px-5 pb-8 pt-6",children:[e.jsxs(M,{className:"text-left",children:[e.jsx(D,{children:t("profile.withdrawSheetTitle")}),e.jsx(z,{children:t("profile.withdrawSheetDescription")})]}),e.jsxs("div",{className:"mt-5 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:t("profile.tonAmount")}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{type:"number",inputMode:"decimal",min:"0",step:"0.01",value:Ee,onChange:s=>L(s.target.value),className:"h-12 rounded-2xl text-lg",placeholder:"0.00"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"TON"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[It.map(s=>e.jsxs("button",{type:"button",onClick:()=>L(s.toString()),className:`rounded-full border px-3 py-1 text-xs transition ${w===s?"border-primary/60 bg-primary/20 text-primary":"border-primary/40 bg-primary/10 text-primary/80"}`,children:[s," TON"]},s)),e.jsx("button",{type:"button",onClick:()=>L(f.toFixed(2)),className:"rounded-full border border-primary/40 bg-primary/10 px-3 py-1 text-xs text-primary/80 transition hover:border-primary/60 hover:bg-primary/20",children:t("profile.max")})]}),e.jsx("button",{type:"button",className:"button-primary rounded-2xl py-4 disabled:pointer-events-none disabled:opacity-70",onClick:_e,disabled:E,children:t(E?"profile.processing":"profile.withdrawAction")})]})]})})]})}export{Vt as default};
