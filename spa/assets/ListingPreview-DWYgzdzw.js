import{d as i,F as o,r as n,b as l,j as t}from"./index-ybLFTs8B.js";import{u as m}from"./useQuery-C7nRNiff.js";import{L as d}from"./ListingPreviewDetails-BtMin761.js";import{L as u}from"./LoadingSkeleton-D6pEFm-W.js";import{P as a}from"./PageContainer-BKz37zUv.js";import{l as c}from"./listingsApi-BUdFcDr3.js";import{m as p}from"./managedChannels-CFOjhX_b.js";import{g as x}from"./errors-3kY4UU5q.js";import{n as g}from"./ton-ClBVV2oW.js";import"./formatters-CG109iVp.js";import"./labels-EEWNt0UM.js";import"./tagOptions-DHtvjoWf.js";import"./skeleton-D3b6bNU7.js";import"./channels-CCH0-4EZ.js";function E(){const{id:r}=i(),s=o()?.channel??(r?p[r]:null),e=m({queryKey:["listingsByChannel",r,{page:1,limit:1,onlyActive:!0}],queryFn:()=>c({channelId:r??"",page:1,limit:1,onlyActive:!0,sort:"recent"}),enabled:!!r});return n.useEffect(()=>{e.error&&l.error(x(e.error,"Unable to load listing"))},[e.error]),s?t.jsx("div",{className:"w-full max-w-2xl mx-auto",children:t.jsxs(a,{className:"py-6 space-y-4",children:[e.isLoading?t.jsx(u,{items:1}):e.data?.items?.length?t.jsx(d,{priceTon:Number.parseFloat(g(e.data.items[0].priceNano))||0,format:"POST",pinDurationHours:e.data.items[0].pinDurationHours,visibilityDurationHours:e.data.items[0].visibilityDurationHours,allowEdits:e.data.items[0].allowEdits,allowLinkTracking:e.data.items[0].allowLinkTracking,allowPinnedPlacement:e.data.items[0].allowPinnedPlacement,tags:e.data.items[0].tags,requiresApproval:e.data.items[0].requiresApproval,additionalRequirementsText:e.data.items[0].contentRulesText??""}):t.jsx("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-4 text-sm text-muted-foreground",children:"No listings available to preview yet."}),t.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 p-4 text-sm text-muted-foreground",children:[t.jsx("p",{className:"font-medium text-foreground",children:"Preview state"}),t.jsx("p",{className:"mt-1",children:"This summary card is used across Marketplace and advertiser requests."})]})]})}):t.jsx("div",{className:"w-full max-w-2xl mx-auto",children:t.jsx(a,{className:"py-6",children:t.jsx("p",{className:"text-muted-foreground",children:"Channel not found"})})})}export{E as default};
