import{c as d,n as o,r as l,j as e}from"./index-CBnBcs6e.js";import{B as r}from"./button-sMp6Dr3V.js";import{C as m,a as u}from"./card-6I4zp-rt.js";import{u as x}from"./useAddChannelFlow-BIq6qNLY.js";import{C as f}from"./circle-check-BnQy1TKt.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],p=d("circle-x",h),N=()=>{const a=o(),{state:t}=x(),s=t.preview;l.useEffect(()=>{if(!s){a("/add-channel/step-1",{replace:!0});return}t.verifyStatus==="idle"&&a("/add-channel/step-2",{replace:!0})},[a,s,t.verifyStatus]);const c=l.useMemo(()=>s?.username?s.username.startsWith("@")?s.username:`@${s.username}`:"—",[s?.username]),n=t.verifyStatus==="success",i=t.lastError||"We could not verify your admin rights. Please try again.";return s?e.jsxs("div",{className:"flex flex-1 flex-col gap-5",children:[e.jsx(m,{className:"border-border/60 bg-card/80 shadow-sm",children:e.jsxs(u,{className:"flex flex-col items-center gap-3 p-6 text-center",children:[e.jsx("div",{className:`flex h-16 w-16 items-center justify-center rounded-full ${n?"bg-emerald-500/20 text-emerald-400":"bg-destructive/15 text-destructive"}`,children:n?e.jsx(f,{className:"h-8 w-8"}):e.jsx(p,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-foreground",children:n?"Channel verified":"Verification failed"}),e.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[s.title," · ",c]})]}),n?null:e.jsx("p",{className:"text-xs text-muted-foreground",children:i})]})}),e.jsx("div",{className:"mt-auto flex flex-col gap-3",children:n?e.jsxs(e.Fragment,{children:[e.jsx(r,{onClick:()=>a("/channels"),className:"w-full text-sm font-semibold",children:"Go to My Channels"}),e.jsx(r,{variant:"secondary",onClick:()=>a(`/channel-manage/${t.linkedChannelId}/overview`),className:"w-full text-sm font-semibold",disabled:!t.linkedChannelId,children:"Manage channel"})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{onClick:()=>a("/add-channel/step-2"),className:"w-full text-sm font-semibold",children:"Retry verification"}),e.jsx(r,{variant:"secondary",onClick:()=>a("/channels"),className:"w-full text-sm font-semibold",children:"Back to channels"})]})})]}):null};export{N as default};
